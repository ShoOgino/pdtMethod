	protected void createFile(PdttFile pdttFile) throws Exception {
		testFile = project.getFile("test.php");
		testFile.create(new ByteArrayInputStream(pdttFile.getFile().getBytes()), true, null);

		String[] otherFiles = pdttFile.getOtherFiles();
		this.otherFiles = new ArrayList<IFile>(otherFiles.length);
		int i = 0;
		for (String otherFileContent : otherFiles) {
			IFile tmp = project.getFile(String.format("test%s.php", i));
			tmp.create(new ByteArrayInputStream(otherFileContent.getBytes()), true, null);
			this.otherFiles.add(i, tmp);
			i++;
		}

		project.refreshLocal(IResource.DEPTH_INFINITE, null);
		project.build(IncrementalProjectBuilder.FULL_BUILD, null);
		PHPCoreTests.waitForIndexer();
	}

