	protected Program createAndParse(String code) throws Exception {
		if (testFile == null) {
			testFile = TestUtils.createFile(project, "test.php", code);
			// Wait for indexer...
			TestUtils.waitForIndexer();
		}
		ISourceModule sourceModule = null;
		sourceModule = DLTKCore.createSourceModuleFrom(testFile);
		ASTParser parser = ASTParser.newParser(new InputStreamReader(testFile.getContents()),
				ProjectOptions.getDefaultPHPVersion(), ProjectOptions.getDefaultIsSupportingASPTags(),
				ProjectOptions.getDefaultUseShortTags(), sourceModule);
		return parser.createAST(new NullProgressMonitor());
	}

