	/**
	 * Internal method for parsing a .pdtt test file
	 * @throws Exception 
	 */
	protected void parse() throws Exception {
		BufferedReader bReader = new BufferedReader(new InputStreamReader(Activator.openResource(fileName)));

		String line = bReader.readLine();
		STATES state = null;
		while (line != null) {
			if (line.startsWith("--")) {
				if (line.equalsIgnoreCase("--TEST--")) {
					state = STATES.TEST;
				} else if (line.equalsIgnoreCase("--FILE--")) {
					state = STATES.FILE;
				} else if (line.equalsIgnoreCase("--EXPECT--")) {
					state = STATES.EXPECT;
				} else {
					throw new Exception("Wrong state: " + line);
				}
			} else {
				if (state != null) {
					switch (state) {
						case TEST:
							this.description = line;
							break;
						case FILE:
							this.file += (line + "\n");
							break;
						case EXPECT:
							this.expected += (line + "\n");
							break;
						default:
							break;
					}
				}
			}
			line = bReader.readLine();
		}
	}

