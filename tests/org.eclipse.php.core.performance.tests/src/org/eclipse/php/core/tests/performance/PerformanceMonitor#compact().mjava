	private void compact() throws IOException {
		Sort sort = new Sort(new SortedNumericSortField("executionId", SortField.Type.LONG, true)); //$NON-NLS-1$
		TopDocs executions = this.executionsSearcher.search(new MatchAllDocsQuery(), HISTORY_SIZE + 1, sort, false,
				false);
		if (executions.scoreDocs.length > HISTORY_SIZE) {
			Document firstExecutionToDelete = this.executionsReader.document(executions.scoreDocs[HISTORY_SIZE].doc);
			long deleteFromExecutionID = firstExecutionToDelete.getField("executionId").numericValue().longValue(); //$NON-NLS-1$
			Query deleteQuery = LongPoint.newRangeQuery("executionId", Long.MIN_VALUE, deleteFromExecutionID); //$NON-NLS-1$
			this.resultsWriter.deleteDocuments(deleteQuery);
			this.executionsWriter.deleteDocuments(deleteQuery);
			this.resultsWriter.flush();
			this.executionsWriter.flush();
		}
	}

