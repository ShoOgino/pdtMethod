/*
 * Create a file handle verifying that its name does not go over
 * the maximum authorized length.
 */
private File createFile(File outputDir, String subdir, String name, String extension) {
	File dir = outputDir;
	if (subdir != null) {
		dir = new File(outputDir, subdir);
		if (!dir.exists()) {
			dir.mkdir();
		}
	}
	return new File(dir, name + '.' + extension);
}

