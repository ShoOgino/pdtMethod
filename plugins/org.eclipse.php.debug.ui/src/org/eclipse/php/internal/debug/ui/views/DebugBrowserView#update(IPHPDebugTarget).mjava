	/*
	 * (non-Javadoc)
	 * 
	 * @seeorg.eclipse.ui.ISelectionListener#selectionChanged(org.eclipse.ui.
	 * IWorkbenchPart, org.eclipse.jface.viewers.ISelection)
	 */
	public void update(IPHPDebugTarget target) {
		if (swtBrowser != null && !swtBrowser.isDisposed()) {
			IPHPDebugTarget oldTarget = fTarget;
			int oldcount = fUpdateCount;
			fTarget = target;
			DebugOutput debugOutput = null;
			if (fTarget != null) {
				if ((fTarget.isSuspended()) || (fTarget.isTerminated())
						|| fTarget.isWaiting()) {
					debugOutput = fTarget.getOutputBuffer();
					fUpdateCount = debugOutput.getUpdateCount();
					// check if output hasn't been updated
					if (fTarget == oldTarget && fUpdateCount == oldcount) {
						return;
					}
				}
				// Not Suspended or Terminated
				else {
					// The following is a fix for bug
					// https://bugs.eclipse.org/bugs/show_bug.cgi?id=205688
					// if the target is not suspended or terminated fTarget
					// should get back its old value
					// so that in the next time the function is called it will
					// not consider this target
					// as it was already set to the view
					fTarget = oldTarget;
					return;
				}
			}
			if (debugOutput != null) {
				String contentType = debugOutput.getContentType();
				if (contentType != null && !contentType.startsWith("text")) { //$NON-NLS-1$
					return; // we don't show garbage anymore
				}
				swtBrowser.setText(debugOutput.getOutput(), false);
			}
		}
	}

