	protected void validate() {
		PHPexeItem phpExeItem = getPHPExeItem();

		// Check whether we can edit this item
		if (phpExeItem != null && !phpExeItem.isEditable()) {
			setMessage(PHPDebugUIMessages.addPHPexeDialog_readOnlyPHPExe,
					IMessageProvider.INFORMATION);
			return;
		}

		String locationName = fPHPExePath.getText();
		if (locationName.length() == 0) {
			setMessage(PHPDebugUIMessages.addPHPexeDialog_enterLocation,
					IMessageProvider.INFORMATION);
			return;
		}
		final File executableLocation = new File(locationName);
		if (!executableLocation.exists()) {
			setMessage(PHPDebugUIMessages.addPHPexeDialog_locationNotExists,
					IMessageProvider.ERROR);
			return;
		}
		if (!executableLocation.getName().toLowerCase().contains("php") //$NON-NLS-1$
				|| executableLocation.isDirectory()) {
			setMessage(PHPDebugUIMessages.PHPExeCompositeFragment_13,
					IMessageProvider.ERROR);
			return;
		}

		phpExeItem.setExecutable(executableLocation);

		if (phpExeItem.getSapiType() != null
				&& (fSapiTypes.getText() == null || fSapiTypes.getText().trim()
						.length() == 0)) {
			fSapiTypes.setText(phpExeItem.getSapiType());
		}

		if (phpExeItem.getExecutable() == null) {
			setMessage(PHPDebugUIMessages.PHPExeCompositeFragment_13,
					IMessageProvider.ERROR);
			return;
		}

		String name = fPHPexeName.getText();
		if (name == null || name.trim().length() == 0) {
			setMessage(PHPDebugUIMessages.addPHPexeDialog_enterName,
					IMessageProvider.INFORMATION);
			return;
		}

		// Check whether the name already exists:
		if (existingItems != null) {
			for (PHPexeItem item : existingItems) {
				if (!item.getName().equals(initialName)
						&& item.getName().equals(name)) {
					setMessage(
							PHPDebugUIMessages.addPHPexeDialog_duplicateName,
							IMessageProvider.ERROR);
					return;
				}
			}
		}

		String sapiType = fSapiTypes.getText().trim();
		if (sapiType.length() == 0) {
			setMessage(PHPDebugUIMessages.PHPExeCompositeFragment_15,
					IMessageProvider.ERROR);
			return;
		}

		String iniLocationName = fPHPIni.getText();
		File iniFile = null;
		if (iniLocationName.trim().length() > 0) {
			iniFile = new File(iniLocationName);
			if (!iniFile.exists()) {
				setMessage(
						PHPDebugUIMessages.addPHPexeDialog_iniLocationNotExists,
						IMessageProvider.ERROR);
				return;
			}
		}

		phpExeItem.setName(name);
		phpExeItem.setDebuggerID(debuggersIds.get(fDebuggers
				.getSelectionIndex()));
		phpExeItem.setINILocation(iniFile);
		phpExeItem.setSapiType(sapiType);

		IStatus status = phpExeItem.validateDebugger();
		if (status.getSeverity() != IStatus.OK) {
			if (status.getSeverity() == IStatus.ERROR) {
				setMessage(status.getMessage(), IMessageProvider.ERROR);
				return;
			} else {
				setMessage(status.getMessage(), IMessageProvider.WARNING);
			}
		} else {
			setMessage(getDescription(), IMessageProvider.NONE);
		}
		controlHandler.update();
	}

