	protected void validate() {
		PHPexeItem phpExeItem = getPHPExeItem();

		// Check whether we can edit this item
		if (phpExeItem != null && !phpExeItem.isEditable()) {
			setMessage(PHPDebugUIMessages.addPHPexeDialog_readOnlyPHPExe, IMessageProvider.INFORMATION);
			return;
		}

		String name = fPHPexeName.getText();
		if (name == null || name.trim().length() == 0) {
			setMessage(PHPDebugUIMessages.addPHPexeDialog_enterName, IMessageProvider.INFORMATION);
			return;
		}

		// Check whether the name already exists:
		if (existingItems != null) {
			for (PHPexeItem item : existingItems) {
				if (!item.getName().equals(initialName) && item.getName().equals(name)) {
					setMessage(PHPDebugUIMessages.addPHPexeDialog_duplicateName, IMessageProvider.ERROR);
					return;
				}
			}
		}

		String locationName = fPHPRoot.getText();
		if (locationName.length() == 0) {
			setMessage(PHPDebugUIMessages.addPHPexeDialog_enterLocation, IMessageProvider.INFORMATION);
			return;
		}

		final File executableLocation = new File(locationName);
		if (!executableLocation.exists()) {
			setMessage(PHPDebugUIMessages.addPHPexeDialog_locationNotExists, IMessageProvider.ERROR);
			return;
		}

		final boolean[] error = new boolean[1];
		Runnable r = new Runnable() {
			public void run() {
				File phpExecutable = PHPexeItem.findPHPExecutable(executableLocation);
				if (phpExecutable == null) {
					setMessage(PHPDebugUIMessages.PHPexe_executable_was_not_found_1, IMessageProvider.ERROR);
					error[0] = true;
				}
			}
		};
		BusyIndicator.showWhile(getShell().getDisplay(), r);
		if (error[0]) {
			return;
		}

		String iniLocationName = fPHPIni.getText();
		File iniFile = null;
		if (iniLocationName.trim().length() > 0) {
			iniFile = new File(iniLocationName);
			if (!iniFile.exists()) {
				setMessage(PHPDebugUIMessages.addPHPexeDialog_iniLocationNotExists, IMessageProvider.ERROR);
				return;
			}
		}

		phpExeItem.setName(name);
		phpExeItem.setExecutableDirectory(executableLocation);
		phpExeItem.setDebuggerID(debuggersIds.get(fDebuggers.getSelectionIndex()));
		phpExeItem.setINILocation(iniFile);
		setMessage(getDescription(), IMessageProvider.NONE);
		controlHandler.update();
	}

