	@Override
	protected IModelElement findElement(final IProject project, final String elementName, final String fileName)
			throws ModelException {
		if (elementName == null) {
			final IMethod function = findFunction(project, functionName, fileName);
			if (function == null)
				return null;
			startPosition = function.getNameRange().getOffset();
			endPosition = startPosition + function.getNameRange().getOffset();
			return function;

		}
		final IType phpClass = findClass(project, elementName, fileName);
		if (phpClass == null)
			return null;

		ISourceRange nameRange = phpClass.getNameRange();
		startPosition = nameRange.getOffset();
		endPosition = startPosition + nameRange.getLength();

		if (functionName == null)
			return phpClass;

		final IMethod function = findMethod(phpClass);
		if (function == null)
			return phpClass;

		startPosition = function.getNameRange().getOffset();
		endPosition = startPosition + function.getNameRange().getLength();

		return function;
	}

