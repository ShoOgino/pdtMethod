	private String getPsrNamespace(IPath path, Psr psr) {
		IPath appendix = new Path("");
		while (!path.isEmpty()) {
			Namespace namespace = psr.getNamespaceForPath(path.addTrailingSeparator().toString());
			if (namespace == null) {
				namespace = psr.getNamespaceForPath(path.removeTrailingSeparator().toString());
			}
			
			if (namespace != null) {
				String nmspc = namespace.getNamespace();
				IPath nmspcPath = new Path(nmspc.replace("\\", "/"));
				
				int match = nmspcPath.matchingFirstSegments(appendix);
				appendix = appendix.removeFirstSegments(match);

				if (appendix.segmentCount() > 0) {
					nmspc += (!nmspc.isEmpty() ? "\\" : "") +
						appendix.removeTrailingSeparator().toString().replace("/", "\\"); 
				}
				
				
				nmspc = nmspc.replace("\\\\", "\\");
				if (nmspc.endsWith("\\")) {
					nmspc = nmspc.substring(0, nmspc.length() - 1);
				}
				
				return nmspc;
			}
			
			appendix = new Path(path.lastSegment() + "/" + appendix.toString());
			path = path.removeLastSegments(1);
		}
		
		return null;
	}

