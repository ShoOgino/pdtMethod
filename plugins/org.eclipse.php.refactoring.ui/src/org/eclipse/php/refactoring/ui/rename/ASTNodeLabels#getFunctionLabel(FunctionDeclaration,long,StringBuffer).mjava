	private static void getFunctionLabel(FunctionDeclaration declaration,
			long flags, StringBuffer buf) {
		buf.append(declaration.getFunctionName().getName());

		// parameters
		if (getFlag(flags, M_PARAMETER_TYPES | M_PARAMETER_NAMES)) {
			final FormalParameter[] parameters = declaration
					.getFormalParameters();
			buf.append('(');

			int nParams = (parameters != null && getFlag(flags,
					M_PARAMETER_TYPES)) ? parameters.length : 0;

			for (int i = 0; i < nParams; i++) {
				if (i > 0) {
					buf.append(COMMA_STRING); //$NON-NLS-1$
					buf.append(" "); //$NON-NLS-1$
				}
				if (getFlag(flags, M_PARAMETER_TYPES)
						&& parameters[i].getParameterType() != null) {
					String t = parameters[i].getParameterType().toString();
					if (t == null) {
						t = ""; //$NON-NLS-1$
					} else {
						t += " "; //$NON-NLS-1$
					}
					buf.append(t);
				}
				if (getFlag(flags, M_PARAMETER_NAMES)) {
					buf.append("$" + parameters[i].getParameterNameIdentifier().getName()); //$NON-NLS-1$
				}

			}
			buf.append(')');
		}

		// TODO: return type
	}

