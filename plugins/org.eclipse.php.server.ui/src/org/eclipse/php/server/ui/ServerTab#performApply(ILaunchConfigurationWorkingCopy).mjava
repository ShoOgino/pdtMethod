	/**
	 * @see org.eclipse.debug.ui.ILaunchConfigurationTab#performApply(ILaunchConfigurationWorkingCopy)
	 */
	public void performApply(ILaunchConfigurationWorkingCopy configuration) {
		if (server != null) {
			configuration.setAttribute(Server.NAME, server.getName());
		} else {
			configuration.setAttribute(Server.NAME, (String) null);
		}
		String fileName = fFile.getText();
		String contextRoot = fPublishContextRoot.getText();
		String url = fURL.getText();
		boolean deployable = publish.getSelection();
		configuration.setAttribute(Server.FILE_NAME, fileName);
		configuration.setAttribute(Server.CONTEXT_ROOT, contextRoot);
		configuration.setAttribute(Server.PUBLISH, deployable);
		configuration.setAttribute(Server.BASE_URL, url);
		configuration.setAttribute(CUSTOM_URL, !autoGeneratedURL.getSelection());

		fURL.setEnabled(!autoGeneratedURL.getSelection());
		boolean publishEnabled = publish.getSelection();
		fContextLabel.setEnabled(publishEnabled);
		fPublishContextRoot.setEnabled(publishEnabled);
		
		applyExtension(configuration);
		
		if (saveWorkingCopy) {
			try {
				configuration.doSave();
			} catch (CoreException e) {
			}
			saveWorkingCopy = false;
		}
	}

