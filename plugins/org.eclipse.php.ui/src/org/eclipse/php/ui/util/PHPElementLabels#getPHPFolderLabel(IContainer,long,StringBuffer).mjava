	/**
	 * Appends the label for a php folder to a StringBuffer. Considers the P_* flags.
	 */
	public static void getPHPFolderLabel(IContainer folder, long flags, StringBuffer buf) {
		if (getFlag(flags, P_QUALIFIED)) {
			getPHPFolderRootLabel(folder.getParent(), ROOT_QUALIFIED, buf);
			buf.append('/');
		}
		if (folder instanceof IProject) {
			IPath path = folder.getFullPath();
			IPath projectPath = folder.getProject().getFullPath();
			path = path.removeFirstSegments(projectPath.segmentCount());
			if (path.segmentCount() > 0)
				buf.append(path.toString());
			else
				buf.append(DEFAULT_FOLDER);
		} else if (getFlag(flags, P_COMPRESSED) && fgPkgNameLength >= 0) {
			String name = folder.getName();
			int start = 0;
			int dot = name.indexOf('.', start);
			while (dot > 0) {
				if (dot - start > fgPkgNameLength - 1) {
					buf.append(fgPkgNamePrefix);
					if (fgPkgNameChars > 0)
						buf.append(name.substring(start, Math.min(start + fgPkgNameChars, dot)));
					buf.append(fgPkgNamePostfix);
				} else
					buf.append(name.substring(start, dot + 1));
				start = dot + 1;
				dot = name.indexOf('.', start);
			}
			buf.append(name.substring(start));
		} else {
			buf.append(folder.getName());
		}
		if (getFlag(flags, P_POST_QUALIFIED)) {
			buf.append(CONCAT_STRING);
			getPHPFolderRootLabel(folder.getParent(), ROOT_QUALIFIED, buf);
		}
	}

