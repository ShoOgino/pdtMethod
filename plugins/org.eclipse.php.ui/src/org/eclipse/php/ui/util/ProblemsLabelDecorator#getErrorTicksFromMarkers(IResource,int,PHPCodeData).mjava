	private int getErrorTicksFromMarkers(final IResource res, final int depth, final PHPCodeData sourceElement) throws CoreException {
		if (res == null || !res.isAccessible())
			return 0;
		int info = 0;

		final IMarker[] markers = res.findMarkers(IMarker.PROBLEM, true, depth);
		if (markers != null)
			for (int i = 0; i < markers.length && info != ERRORTICK_ERROR; i++) {
				final IMarker curr = markers[i];
				if (sourceElement == null || isMarkerInRange(curr, sourceElement)) {
					final int priority = curr.getAttribute(IMarker.SEVERITY, -1);
					if (priority == IMarker.SEVERITY_WARNING)
						info = ERRORTICK_WARNING;
					else if (priority == IMarker.SEVERITY_ERROR)
						info = ERRORTICK_ERROR;
				}
			}
		return info;
	}

