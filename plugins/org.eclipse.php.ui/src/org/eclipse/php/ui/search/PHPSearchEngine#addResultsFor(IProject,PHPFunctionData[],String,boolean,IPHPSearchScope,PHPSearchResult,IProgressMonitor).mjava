	private void addResultsFor(IProject project, PHPFunctionData[] functions, String stringPattern, boolean caseSensitive, IPHPSearchScope scope, PHPSearchResult textResult, IProgressMonitor monitor) {
		for (int i = 0; i < functions.length; i++) {
			if (i % 100 == 0) {
				// Check for monitor cancellation every 100 ticks
				if (monitor != null && monitor.isCanceled()) {
					throw new OperationCanceledException();
				}
			}
			PHPFunctionData functionData = functions[i];
			if (SearchPattern.match(stringPattern, functionData.getName(), caseSensitive)) {
				int start = functionData.getUserData().getStopPosition();
				textResult.addMatch(new Match(new PHPFunctionDataDecorator(functionData, project), start, functionData.getName().length()));
			}
			monitor.worked(1);
		}
	}

