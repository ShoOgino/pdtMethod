	protected void doSetInput(IEditorInput input) throws CoreException {
		IResource resource = null;
		if (input instanceof IFileEditorInput) {
			IFileEditorInput fileInput = (IFileEditorInput) input;
			resource = fileInput.getFile();
		} else if (input instanceof StorageEditorInput) {
			StorageEditorInput editorInput = (StorageEditorInput) input;
			IStorage storage = editorInput.getStorage();
			if (storage instanceof ZipEntryStorage) {
				resource = ((ZipEntryStorage) storage).getProject();
			} else if (storage instanceof LocalFileStorage) {
				resource = ((LocalFileStorage) storage).getProject();
			}
		}
		PhpSourceParser.editFile.set(resource);
		super.doSetInput(input);
	}

