	protected TextAttribute getAttributeFor(ITextRegion region) {
		TextAttribute result = null;

		if (region != null) {
			String type = region.getType();
			if (type != null) {

				result = getAttributeFor(type);
			}
		}

		//return the defalt attributes if there is not highlight color for the region
		if (result == null)
			result = (TextAttribute) getTextAttributes().get(PreferenceConstants.EDITOR_NORMAL_COLOR);

		return result;
	}

