	/**
	 * Handle any files that must be saved prior to running
	 * validation.
	 * 
	 * @param projects
	 * 			The list of projects that will be validated.
	 * @return
	 * 			True if all files have been saved, false otherwise.
	 */
	public static boolean handleFilesToSave(IProject project, boolean showAutoSave, AutoSaveHolder autoSave) {

		IEditorPart[] dirtyEditors = SaveFilesHelper.getDirtyEditors(project);
		if (dirtyEditors == null || dirtyEditors.length == 0)
			return true;
		SaveFilesDialog sfDialog = null;
		if (!autoSave.isAutoSave()) {
			sfDialog = new SaveFilesDialog(Display.getCurrent().getActiveShell(), showAutoSave, autoSave);
			sfDialog.setInput(Arrays.asList(dirtyEditors));
		}
		// Save all open editors.
		if (autoSave.isAutoSave() || sfDialog.open() == Window.OK) {
			int numDirtyEditors = dirtyEditors.length;
			for (int i = 0; i < numDirtyEditors; i++) {
				dirtyEditors[i].doSave(null);
			}
			return true;
		}
		return false;
	}

