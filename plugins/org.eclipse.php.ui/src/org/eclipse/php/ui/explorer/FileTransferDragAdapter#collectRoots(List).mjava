	protected Set collectRoots(final List elements) {
		final Set roots = new HashSet(10);

		Iterator iter = elements.iterator();
		while (iter.hasNext()) {
			IResource resource = (IResource) iter.next();
			IResource parent = resource.getParent();
			if (parent == null) {
				roots.add(resource);
			} else {
				roots.add(parent);
			}
		}
		return roots;
	}

