	public Object[] addWorkingSets(final Object[] elements) {
		List result = null;
		for (int i = 0; i < elements.length; i++) {
			final Object element = elements[i];
			List sets = null;
			if (element instanceof IResource)
				sets = fElementMapper.getAllWorkingSetsForResource((IResource) element);
			else
				sets = fElementMapper.getAllWorkingSets(element);
			if (sets != null && sets.size() > 0) {
				if (result == null)
					result = new ArrayList(Arrays.asList(elements));
				result.addAll(sets);
			}
		}
		if (result == null)
			return elements;
		return result.toArray();
	}

