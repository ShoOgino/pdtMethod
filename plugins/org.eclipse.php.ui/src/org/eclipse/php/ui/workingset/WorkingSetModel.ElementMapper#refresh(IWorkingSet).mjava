		public IAdaptable[] refresh(final IWorkingSet ws) {
			final IAdaptable[] oldElements = (IAdaptable[]) fWorkingSetToElement.get(ws);
			if (oldElements == null)
				return null;
			final IAdaptable[] newElements = ws.getElements();
			final List toRemove = new ArrayList(Arrays.asList(oldElements));
			final List toAdd = new ArrayList(Arrays.asList(newElements));
			computeDelta(toRemove, toAdd, oldElements, newElements);
			for (final Iterator iter = toAdd.iterator(); iter.hasNext();)
				addElement((IAdaptable) iter.next(), ws);
			for (final Iterator iter = toRemove.iterator(); iter.hasNext();)
				removeElement((IAdaptable) iter.next(), ws);
			if (toRemove.size() > 0 || toAdd.size() > 0)
				fWorkingSetToElement.put(ws, newElements);
			return oldElements;
		}

