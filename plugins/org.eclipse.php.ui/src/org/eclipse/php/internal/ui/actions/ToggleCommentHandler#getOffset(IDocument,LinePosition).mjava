	private int getOffset(IDocument document, LinePosition position)
			throws BadLocationException {
		return position.offset + document.getLineOffset(position.line);
	}

