		public IAdaptable[] refresh(IWorkingSet ws) {
			IAdaptable[] oldElements = (IAdaptable[]) fWorkingSetToElement.get(ws);
			if (oldElements == null)
				return null;
			IAdaptable[] newElements = ws.getElements();
			List toRemove = new ArrayList(Arrays.asList(oldElements));
			List toAdd = new ArrayList(Arrays.asList(newElements));
			computeDelta(toRemove, toAdd, oldElements, newElements);
			for (Iterator iter = toAdd.iterator(); iter.hasNext();) {
				addElement((IAdaptable) iter.next(), ws);
			}
			for (Iterator iter = toRemove.iterator(); iter.hasNext();) {
				removeElement((IAdaptable) iter.next(), ws);
			}
			if (toRemove.size() > 0 || toAdd.size() > 0)
				fWorkingSetToElement.put(ws, newElements);
			return oldElements;
		}

