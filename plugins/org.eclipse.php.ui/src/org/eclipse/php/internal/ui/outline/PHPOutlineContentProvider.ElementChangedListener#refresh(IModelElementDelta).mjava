		private void refresh(IModelElementDelta delta) {
			if (fOutlineViewer.getTree() == null
					|| (fOutlineViewer.getTree() != null && !fOutlineViewer
							.getTree().isDisposed())) {
				if (delta == null) { // delta is null when file is saved
					List<Object> toUpdate = new ArrayList<Object>();
					Object[] elements = getElements(fInput);
					if (elements != null) {
						for (Object object : elements) {
							toUpdate.add(object);
							collectChildren(object, toUpdate);
						}
					}
					fOutlineViewer.update(toUpdate.toArray(), null);
				} else {
					visitAndUpdate(delta);
				}
			}
		}

