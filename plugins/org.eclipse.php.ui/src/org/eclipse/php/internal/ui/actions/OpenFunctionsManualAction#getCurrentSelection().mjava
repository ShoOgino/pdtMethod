	protected ITextSelection getCurrentSelection() {
		ITextEditor editor = getTextEditor();
		if (editor == null) {
			return null;
		}
		ISelectionProvider provider = editor.getSelectionProvider();
		if (provider == null) {
			return null;
		}
		ISelection selection = provider.getSelection();
		if (selection instanceof ITextSelection) {
			return (ITextSelection) selection;
		}

		return null;
	}

