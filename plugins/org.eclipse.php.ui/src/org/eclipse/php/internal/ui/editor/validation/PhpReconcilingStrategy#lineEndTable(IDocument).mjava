	private int[] lineEndTable(IDocument document) {
		int numberOfLines = document.getNumberOfLines();
		int[] result = new int[numberOfLines];
		int i = 0;
		while (i < numberOfLines) {
			try {
				String lineDelimiter = (i == numberOfLines - 1 ? "" : document.getLineDelimiter(i));				
				IRegion lineInformation = document.getLineInformation(i);
				result[i] = lineInformation.getOffset() + lineInformation.getLength() + lineDelimiter.length(); 
			} catch (BadLocationException e) {
				assert false;
				throw new IllegalStateException("PhpReconcilingStrategy#lineEndTable(document");
			}
			i++;			
		}
		// take care for the last line
		return result;
	}

