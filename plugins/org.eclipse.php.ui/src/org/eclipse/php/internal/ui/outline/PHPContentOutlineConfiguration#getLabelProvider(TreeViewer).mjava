	public ILabelProvider getLabelProvider(final TreeViewer viewer) {
		
		if (fLabelProvider == null) {
			fLabelProvider = new DecoratingModelLabelProvider(
				new PHPAppearanceAwareLabelProvider(
					AppearanceAwareLabelProvider.DEFAULT_TEXTFLAGS | ScriptElementLabels.F_APP_TYPE_SIGNATURE | ScriptElementLabels.ALL_CATEGORY,
					AppearanceAwareLabelProvider.DEFAULT_IMAGEFLAGS,
					fStore)
			);
		}

		if (MODE_PHP == mode) {
			viewer.setLabelProvider(fLabelProvider);
		}
		else if (MODE_HTML == mode) {
			if (fLabelProviderHTML == null) {
				fLabelProviderHTML = new PHPOutlineLabelProvider(fLabelProvider);
				fLabelProviderHTML.fShowAttributes = fShowAttributes;
			}
			viewer.setLabelProvider(fLabelProviderHTML);
		}
		return (ILabelProvider) viewer.getLabelProvider();
	}

