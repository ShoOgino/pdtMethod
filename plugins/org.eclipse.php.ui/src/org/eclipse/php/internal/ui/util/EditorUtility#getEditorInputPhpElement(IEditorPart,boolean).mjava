	/**
	 * Returns the given editor's input as PHP element.
	 * 
	 * @param editor
	 *            the editor
	 * @param primaryOnly
	 *            if <code>true</code> only primary working copies will be
	 *            returned
	 * @return the given editor's input as <code>ITypeRoot</code> or
	 *         <code>null</code> if none
	 * @since 3.2
	 */
	public static IModelElement getEditorInputPhpElement(IEditorPart editor,
			boolean primaryOnly) {
		Assert.isNotNull(editor);
		IEditorInput editorInput = editor.getEditorInput();
		if (editorInput == null)
			return null;

		IModelElement je = DLTKUIPlugin.getEditorInputModelElement(editorInput);
		if (je != null || primaryOnly)
			return je;

		return DLTKUIPlugin.getDefault().getWorkingCopyManager()
				.getWorkingCopy(editorInput, false);
	}

