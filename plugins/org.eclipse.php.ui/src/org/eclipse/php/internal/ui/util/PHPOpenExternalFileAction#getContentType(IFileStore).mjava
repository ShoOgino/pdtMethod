	private IContentType getContentType(IFileStore fileStore) {
		if (fileStore == null)
			return null;

		InputStream stream = null;
		try {
			stream = fileStore.openInputStream(EFS.NONE, null);
			return Platform.getContentTypeManager().findContentTypeFor(stream, fileStore.getName());
		} catch (IOException x) {
			EditorsPlugin.log(x);
			return null;
		} catch (CoreException x) {
			// Do not log FileNotFoundException (no access)
			if (!(x.getStatus().getException() instanceof FileNotFoundException))
				EditorsPlugin.log(x);

			return null;
		} finally {
			try {
				if (stream != null)
					stream.close();
			} catch (IOException x) {
				EditorsPlugin.log(x);
			}
		}
	}

