	/**
	 * Handle the partition under the start offset of the selection.
	 * 
	 * @param partition the partition under the start of the selection
	 * @param edits the list of edits to later execute
	 * @param factory the factory for edits
	 * @param offset the start of the selection, which must lie inside
	 *        <code>partition</code>
	 */
	private void handleFirstPartition(ITypedRegion partition, List edits, Edit.EditFactory factory, int offset) throws BadLocationException {
		
	    int partOffset = partition.getOffset();
	    String partType = partition.getType();

	    Assert.isTrue(partOffset <= offset, "illegal partition"); //$NON-NLS-1$

	    // first partition: mark start of comment
	    if (partType == IDocument.DEFAULT_CONTENT_TYPE || partType == PHPPartitionTypes.PHP_DEFAULT) {
	      // Java code: right where selection starts
	      edits.add(factory.createEdit(offset, 0, getCommentStart()));
	    } else if (isSpecialPartition(partType)) {
	      // special types: include the entire partition
	      edits.add(factory.createEdit(partOffset, 0, getCommentStart()));
	    } // javadoc: no mark, will only start after comment
	}

