	private IProject[] getProjectsFromSelection(IStructuredSelection selection) {
		List phpEclipseProjects = new LinkedList();
		Iterator i = selection.iterator();
		while (i.hasNext()) {
			Object element = i.next();
			if (element instanceof IProject) {
				IProject project = (IProject) element;
				try {
					if (project.isOpen() && project.hasNature(PHPECLIPSE_NATURE)) {
						phpEclipseProjects.add(project);
					}
				} catch (CoreException e) {
				}
			}
		}
		return (IProject[]) phpEclipseProjects.toArray(new IProject[phpEclipseProjects.size()]);
	}

