	public IFile getFile() {
		// when a file with no content type associated with it is opened with
		// this editor
		// there will be no model for it. If it has a FileEditorInput we'll
		// return the IFile from it
		// else, null.
		if (getModel() == null) {
			if (getEditorInput() instanceof IFileEditorInput) {
				return ((IFileEditorInput) getEditorInput()).getFile();
			} else {
				return null;
			}
		}
		IPath path = new Path(getModel().getBaseLocation());
		if (ExternalFilesRegistry.getInstance().isEntryExist(path.toOSString())) {
			return ExternalFilesRegistry.getInstance().getFileEntry(path.toOSString());
		}
		// could be that it is an external file BUT was already removed !, check
		// :
		else if (path.segmentCount() == 1) {
			return ExternalFileWrapper.createFile(path.toOSString());
		}

		// handle case of workspace file AND/OR an external file with more than
		// 1 segment
		return ResourcesPlugin.getWorkspace().getRoot().getFile(path);
	}

