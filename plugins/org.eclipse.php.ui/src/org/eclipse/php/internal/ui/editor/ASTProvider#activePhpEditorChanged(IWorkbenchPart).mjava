	private void activePhpEditorChanged(IWorkbenchPart editor) {

		ISourceModule phpElement = null;
		if (editor instanceof PHPStructuredEditor) {
			IModelElement inputModelElement = ((PHPStructuredEditor) editor).getModelElement();
			if (inputModelElement != null && inputModelElement.getElementType() == IModelElement.SOURCE_MODULE) {
				phpElement = (ISourceModule) inputModelElement;
			}
		}

		synchronized (this) {
			fActiveEditor = editor;
			fActivePhpElement = phpElement;
			cache(null, phpElement);
		}

		if (DEBUG)
			System.out.println(getThreadName() + " - " + DEBUG_PREFIX + "active editor is: " + toString(phpElement)); //$NON-NLS-1$ //$NON-NLS-2$

		synchronized (fReconcileLock) {
			if (fIsReconciling && (fReconcilingPhpElement == null || !fReconcilingPhpElement.equals(phpElement))) {
				fIsReconciling = false;
				fReconcilingPhpElement = null;
			} else if (phpElement == null) {
				fIsReconciling = false;
				fReconcilingPhpElement = null;
			}
		}
	}

