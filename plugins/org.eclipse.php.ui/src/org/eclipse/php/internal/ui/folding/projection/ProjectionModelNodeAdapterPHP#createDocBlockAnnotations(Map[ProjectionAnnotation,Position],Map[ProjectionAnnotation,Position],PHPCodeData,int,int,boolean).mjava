	/**
	 * Computes current annotations on given CodeDatas.
	 * @param fileData 
	 *
	 * @param codeDatas
	 * @param startOffset
	 * @param endOffset
	 * @param collapse
	 */
	private void createDocBlockAnnotations(Map<ProjectionAnnotation, Position> currentAnnotations, Map<ProjectionAnnotation, Position> addedAnnotations, PHPCodeData codeData, int startOffset, int endOffset, boolean collapse) {
		final PHPDocBlock docBlock = codeData.getDocBlock();
		
		// no need to add an empty doc block
		if (docBlock == null) {
			return;
		}

		int codeStartOffset = docBlock.getStartPosition();
		if (codeStartOffset > startOffset && codeStartOffset < endOffset) {
			// element may start in one PHP block and end in another.
			// false - when adding new annotation - don't fold
			final Position newPosition = createPosition(codeStartOffset, docBlock.getEndPosition());
			final ProjectionAnnotation newAnnotation = new ElementProjectionAnnotation(codeData, true, shouldAutoCollapseAnnotations ? collapse : false);
			final ProjectionAnnotation existingAnnotation = getExistingAnnotation(newAnnotation);
			if (existingAnnotation == null) {
				// add to map containing all annotations for this
				// adapter
				currentAnnotations.put(newAnnotation, newPosition);
				// add to map containing annotations to add
				addedAnnotations.put(newAnnotation, newPosition);
			} else {
				// add to map containing all annotations for this
				// adapter
				currentAnnotations.put(existingAnnotation, newPosition);
				// remove from map containing annotations to delete
				previousAnnotations.remove(existingAnnotation);
			}
		}
	}

