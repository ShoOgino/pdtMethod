	private void dealSuffix(IDocument document, int offset) {
		boolean toggleEating = isToggleEating();
		boolean insertCompletion = insertCompletion();
		String replacement = getReplacementString();
		if (replacement.endsWith(RPAREN)) {
			int pos = -1;
			if (!insertCompletion || toggleEating) {
				pos = getRelativePositionAfterBrackets(document,
						getReplacementOffset() + getReplacementLength());
			} else {
				pos = getRelativePositionAfterBrackets(document, offset);
			}
			if (pos >= 0) {
				setReplacementLength(getReplacementLength() + pos);
			}
		} else {
			// deal with case that a method that do not have parameters but with
			// append with parameters when using insert mode,for example
			// getA|($a),we should generate getA()($a) instead of getA($a),but
			// for getA|(),we should generate getA()
			if (insertCompletion
					&& getRelativePositionAfterBrackets(document, offset) < 0) {
				replacement = replacement + PARENS;
				setReplacementString(replacement);
			}
		}
	}

