	/**
	 * Adds the script nature to the project (if not set yet) and configures the
	 * build buildpath.
	 * 
	 * @param monitor
	 *            a progress monitor to report progress or <code>null</code> if
	 *            progress reporting is not desired
	 * @throws CoreException
	 *             Thrown when the configuring the script project failed.
	 * @throws InterruptedException
	 *             Thrown when the operation has been canceled.
	 */
	public void configureScriptProject(IProgressMonitor monitor)
			throws CoreException, InterruptedException {
		if (monitor == null) {
			monitor = new NullProgressMonitor();
		}

		int nSteps = 6;
		monitor
				.beginTask(
						NewWizardMessages.ScriptCapabilityConfigurationPage_op_desc_Script,
						nSteps);

		try {
			IProject project = getScriptProject().getProject();
			BuildpathsBlock.addScriptNature(project, new SubProgressMonitor(
					monitor, 1), getScriptNature());
			getBuildPathsBlock().configureScriptProject(
					new SubProgressMonitor(monitor, 5));
		} catch (OperationCanceledException e) {
			throw new InterruptedException();
		} finally {
			monitor.done();
		}
	}

