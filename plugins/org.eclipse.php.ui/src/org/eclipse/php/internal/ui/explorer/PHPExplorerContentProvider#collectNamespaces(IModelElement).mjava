	protected List<IType> collectNamespaces(IModelElement create)
			throws ModelException {

		IDLTKSearchScope scope = SearchEngine.createSearchScope(create,
				IDLTKSearchScope.SOURCES);
		IType[] namespaces = PhpModelAccess.getDefault().findNamespaces(null,
				null, MatchRule.PREFIX, 0, 0, scope, null);
		Map<String, List<IType>> aggregated = new HashMap<String, List<IType>>();
		for (IType ns : namespaces) {
			String elementName = ns.getElementName();
			List<IType> l = aggregated.get(elementName);
			if (l == null) {
				l = new LinkedList<IType>();
				aggregated.put(elementName, l);
			}
			l.add(ns);
		}
		List<IType> result = new LinkedList<IType>();
		for (Entry<String, List<IType>> entry : aggregated.entrySet()) {
			result.add(new NamespaceNode(create, entry.getKey(), entry
					.getValue().toArray(new IType[entry.getValue().size()])));
		}

		return result;
	}

