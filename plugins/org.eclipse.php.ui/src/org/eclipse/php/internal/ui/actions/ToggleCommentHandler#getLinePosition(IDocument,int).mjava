	private LinePosition getLinePosition(IDocument document, int offset) throws BadLocationException {
		LinePosition result = new LinePosition();
		int line = document.getLineOfOffset(offset);
		result.line = line;
		result.offset = offset - document.getLineOffset(line);
		return result;
	}

