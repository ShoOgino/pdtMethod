	public Position[] consumes(Program program) {
		try {
			if (this.getClass() == firstHighlighting) {
				modelCache = new TemporaryModelCache(sourceModule);
			}

			// long start = System.currentTimeMillis();
			if (program != null) {
				list = new ArrayList<Position>();
				AbstractSemanticApply apply = getSemanticApply();
				sourceModule = program.getSourceModule();
				program.accept(apply);
				return list.toArray(new Position[list.size()]);
			}
			return new Position[0];

		} finally {
			if (this.getClass() == lastHighlighting) {
				modelCache = null;
			}
		}
	}

