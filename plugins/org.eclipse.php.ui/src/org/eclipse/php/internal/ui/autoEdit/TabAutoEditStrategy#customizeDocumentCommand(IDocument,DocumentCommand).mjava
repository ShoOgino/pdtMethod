	public void customizeDocumentCommand(IDocument document, DocumentCommand command) {
		if ((command.text != null) && command.text.equals("\t")) {
			//override original tab command
			command.text = "";
			
			this.command = command;
			this.document = (IStructuredDocument) document;

			boolean isAutoIndent = PHPUiPlugin.getDefault().getPreferenceStore().getBoolean(PreferenceConstants.EDITOR_SMART_TAB);
			if (!isAutoIndent) {
				applyTabRule();
				return;
			}
			
			if (command.length != 0) {
				return;
			}
			tabPressed();
		}
	}

