	/**
	 * @param viewers
	 *            All viewers that can provide a selection
	 * @param viewerInFocus
	 *            the viewer currently in focus or <code>null</code>
	 */
	public SelectionProviderMediator(StructuredViewer[] viewers,
			StructuredViewer viewerInFocus) {
		Assert.isNotNull(viewers);
		fViewers = viewers;
		InternalListener listener = new InternalListener();
		fSelectionChangedListeners = new ListenerList();
		fPostSelectionChangedListeners = new ListenerList();
		fViewerInFocus = viewerInFocus;

		for (int i = 0; i < fViewers.length; i++) {
			StructuredViewer viewer = fViewers[i];
			viewer.addSelectionChangedListener(listener);
			viewer
					.addPostSelectionChangedListener(new InternalPostSelectionListener());
			Control control = viewer.getControl();
			control.addFocusListener(listener);
		}
	}

