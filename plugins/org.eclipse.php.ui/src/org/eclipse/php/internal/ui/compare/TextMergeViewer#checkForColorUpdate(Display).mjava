	private void checkForColorUpdate(Display display) {
		if (fPollSystemForeground) {
//			RGB fg = display.getSystemColor(SWT.COLOR_LIST_FOREGROUND).getRGB();
			RGB fg = fPreferenceStore.getBoolean(AbstractTextEditor.PREFERENCE_COLOR_FOREGROUND_SYSTEM_DEFAULT) ? null : 
				new Color(display, PreferenceConverter.getColor(fPreferenceStore, 
						AbstractTextEditor.PREFERENCE_COLOR_FOREGROUND_SYSTEM_DEFAULT)).getRGB();
			if (fForeground == null || !fg.equals(fForeground)) {
				fForeground = fg;
				updateColors(display);
			}
		}
		if (fPollSystemBackground) {
//			RGB bg = display.getSystemColor(SWT.COLOR_LIST_BACKGROUND).getRGB();
			RGB bg = fPreferenceStore.getBoolean(AbstractTextEditor.PREFERENCE_COLOR_BACKGROUND_SYSTEM_DEFAULT) ? null : 
				new Color(display, PreferenceConverter.getColor(fPreferenceStore, 
						AbstractTextEditor.PREFERENCE_COLOR_BACKGROUND_SYSTEM_DEFAULT)).getRGB();
			if (fBackground == null || !bg.equals(fBackground)) {
				fBackground = bg;
				updateColors(display);
			}
		}
	}

