	public void selectionChanged(final IWorkbenchPart part, final ISelection selection) {
		Object selectedElement = computeSelectedElement(part, selection);
		if (selectedElement != null) {
			Object oldSelectedElement = ((IStructuredSelection) viewer.getSelection()).getFirstElement();
			if (selectedElement.equals(oldSelectedElement))
				return;
			viewer.setSelection(createSelection(selectedElement), true);
		} else if (resetEmptySelection && !viewer.getSelection().isEmpty())
			viewer.setSelection(null);
	}

