	protected CodeDataCompletionProposal[] calcCompletionProposals(PHPProjectModel projectModel) {
		if (codeDataProposals == null || codeDataProposals.length == 0) {
			return ContentAssistSupport.EMPTY_CodeDataCompletionProposal_ARRAY;
		}

		CodeData[] tmp = ModelSupport.getCodeDataStartingWith(codeDataProposals, key);

		// filter internal code data
		tmp = ModelSupport.removeFilteredCodeData(tmp, ModelSupport.INTERNAL_CODEDATA_FILTER);

		CodeDataCompletionProposal[] result = new CodeDataCompletionProposal[tmp.length];
		for (int i = 0; i < tmp.length; i++) {
			result[i] = createProposal(projectModel, tmp[i]);
		}
		return result;
	}

