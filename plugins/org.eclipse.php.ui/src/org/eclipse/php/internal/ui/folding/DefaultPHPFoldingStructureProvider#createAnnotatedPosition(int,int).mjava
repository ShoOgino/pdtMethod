	/*
	 * Create and return a Position according to the given start and end document positions.
	 */
	private AnnotatedPosition createAnnotatedPosition(int start, int end) throws BadLocationException {
		if (start != end) {
			int offset = document.getLineOffset(start);
			int endOffset;
			if (document.getNumberOfLines() > end + 1) {
				endOffset = document.getLineOffset(end + 1);
			} else if (end > start) {
				endOffset = document.getLineOffset(end) + document.getLineLength(end);
			} else {
				return null;
			}
			return new AnnotatedPosition(offset, endOffset - offset);
		}
		return null;
	}

