	private IEditorPart getEditor(final IEditorInput editorInput) {
		final IEditorPart editor[] = new IEditorPart[1];
		Display.getDefault().syncExec(new Runnable() { // needs UI thread to
			// retrieve active page
			public void run() {
				IWorkbenchPage activePage = DLTKUIPlugin.getActivePage();
				if (activePage != null) {
					if (editorInput != null) {
						editor[0] = activePage.findEditor(editorInput);
					} else {
						// workaround for external files editor
						editor[0] = activePage.getActiveEditor();
					}
				}
			}
		});
		return editor[0];
	}

