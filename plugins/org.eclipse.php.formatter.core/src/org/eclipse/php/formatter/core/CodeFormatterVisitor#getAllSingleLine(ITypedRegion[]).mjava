	private IRegion[] getAllSingleLine(ITypedRegion[] partitions)
			throws BadLocationException {
		List<IRegion> result = new ArrayList<IRegion>();
		if (document instanceof IStructuredDocument) {
			for (int i = 0; i < partitions.length; i++) {
				ITypedRegion iTypedRegion = partitions[i];
				if (PHPPartitionTypes.PHP_DEFAULT
						.equals(iTypedRegion.getType())
						&& isPhpRegionOnSingleLine(iTypedRegion.getOffset(),
								iTypedRegion.getLength())) {
					result.add(iTypedRegion);
				}
			}
		}
		return result.toArray(new IRegion[result.size()]);
	}

