	/**
	 * Returns all subfolders of the given model elements.
	 * 
	 * <p>
	 * This method invokes {@link #getAllSubfolders(IModelElement)} for each of
	 * the model elements in the given array and merges the result.
	 * </p>
	 * 
	 * @param elements
	 *            an array of model elements
	 * 
	 * @return an array of model elements containing the elements of the given
	 *         array and all their children
	 * 
	 * @throws ModelException
	 *             if any of the given element does not exist or if an exception
	 *             occurs while accessing its corresponding resource
	 */
	public IModelElement[] getAllSubfolders(IModelElement[] elements)
			throws ModelException {
		Collection<IModelElement> allSubfolders = new HashSet<IModelElement>();

		for (IModelElement element : elements) {
			allSubfolders.addAll(Arrays.asList(getAllSubfolders(element)));
		}

		return allSubfolders.toArray(new IModelElement[allSubfolders.size()]);
	}

