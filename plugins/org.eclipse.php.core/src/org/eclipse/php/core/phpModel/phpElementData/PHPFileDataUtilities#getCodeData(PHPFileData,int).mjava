	/**
	 * return the code data (class or function) that wrap the position.
	 *
	 * @param fileData The file data to search in.
	 * @param position The position in the document.
	 * @return return the code data (class or function) that wrap the position or null.
	 */
	public static CodeData getCodeData(PHPFileData fileData, int position) {
		if (position < 0 || fileData == null) {
			return null;
		}
		// check if the position is in one of the classes.
		PHPClassData[] classes = fileData.getClasses();
		PHPClassData classRv = null;
		PHPFunctionData functionRv = null;
		for (int i = 0; i < classes.length; i++) {
			if (contains(classes[i].getUserData(), position)) {
				if (classRv == null) {
					classRv = classes[i];
				} else {
					// if the old class we found includes the new one then the
					// new one is more relevant
					if (contains(classRv.getUserData(), classes[i].getUserData().getStartPosition())) {
						classRv = classes[i];
						functionRv = null;
					} else {
						continue;
					}
				}
				// the position is in the class check if it is in one of its methods
				PHPFunctionData[] functions = classes[i].getFunctions();
				for (int j = 0; j < functions.length; j++) {
					if (contains(functions[j].getUserData(), position)) {
						if (functionRv == null) {
							functionRv = functions[j];
						} else {
							// if the old function we found includes the new one
							// then the new one is more relevant
							if (contains(functionRv.getUserData(), functions[j].getUserData().getStartPosition())) {
								functionRv = functions[j];
							}
						}
					}
				}
			}
		}

		// check if the position is in one of the functions.
		PHPFunctionData[] functions = fileData.getFunctions();
		for (int j = 0; j < functions.length; j++) {
			if (contains(functions[j].getUserData(), position)) {
				if (functionRv == null) {
					functionRv = functions[j];
				} else {
					// if the old function we found includes the new one then
					// the new one is more relevant
					if (contains(functionRv.getUserData(), functions[j].getUserData().getStartPosition())) {
						functionRv = functions[j];
					}
				}
			}
		}
		if (functionRv != null) {
			return functionRv;
		}
		if (classRv != null) {
			return classRv;
		}
		return null;
	}

