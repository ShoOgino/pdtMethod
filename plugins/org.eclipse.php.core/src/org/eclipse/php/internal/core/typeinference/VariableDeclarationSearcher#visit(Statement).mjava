	public final boolean visit(Statement node) throws Exception {
		if (!isInteresting(node)) {
			visitGeneral(node);
			return false;
		}

		ASTNode parent = nodesStack.peek();
		if (isConditional(parent)) {
			getScope().enterInnerBlock((Statement) parent);
		}
		
		if (node instanceof GlobalStatement) {
			GlobalStatement globalStatement = (GlobalStatement) node;
			for (Expression variable : globalStatement.getVariables()) {
				if (variable instanceof VariableReference) {
					VariableReference varReference = (VariableReference) variable;
					getScope().addDeclaration(varReference.getName(), globalStatement);
				}
			}
		}
		else if (node instanceof FormalParameter) {
			FormalParameter parameter = (FormalParameter) node;
			getScope().addDeclaration(parameter.getName(), parameter);
		}
		else if (node instanceof CatchClause) {
			CatchClause clause = (CatchClause) node;
			VariableReference varReference = clause.getVariable();
			getScope().addDeclaration(varReference.getName(), clause);
		}
		else if (node instanceof ForEachStatement) {
			ForEachStatement foreachStatement = (ForEachStatement) node;
			if (foreachStatement.getValue() instanceof SimpleReference) {
				String variableName = ((SimpleReference) foreachStatement.getValue()).getName();
				getScope().addDeclaration(variableName, foreachStatement);
			}
			if (foreachStatement.getKey() instanceof SimpleReference) {
				String variableName = ((SimpleReference) foreachStatement.getKey()).getName();
				getScope().addDeclaration(variableName, foreachStatement);
			}
		}
		
		postProcess(node);
		
		return super.visit(node);
	}

