	private static IMethod[] getGlobalFunctions(ISourceModule sourceModule,
			String functionName, IModelAccessCache cache,
			IProgressMonitor monitor) {

		if (cache != null) {
			Collection<IMethod> functions = cache.getGlobalFunctions(
					sourceModule, functionName, monitor);
			if (functions == null) {
				return PhpModelAccess.NULL_METHODS;
			}
			return (IMethod[]) functions.toArray(new IMethod[functions.size()]);
		}

		IDLTKSearchScope scope = SearchEngine.createSearchScope(sourceModule
				.getScriptProject());
		IMethod[] functions = PhpModelAccess.getDefault().findMethods(
				functionName, MatchRule.EXACT, Modifiers.AccGlobal, 0, scope,
				null);
		Collection<IMethod> filteredElements = filterElements(sourceModule,
				Arrays.asList(functions), null, monitor);
		return (IMethod[]) filteredElements
				.toArray(new IMethod[filteredElements.size()]);
	}

