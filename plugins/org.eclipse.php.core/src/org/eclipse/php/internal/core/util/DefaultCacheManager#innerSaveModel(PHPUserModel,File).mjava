	// Cache the model to the disk.
	private void innerSaveModel(PHPUserModel userModel, File cacheFile) {
		FileOutputStream out = null;
		BufferedOutputStream bufout = null;
		DataOutputStream dout = null;
		try {
			CodeData[] files = userModel.getFileDatas();
			ICachable[] toSave = Arrays.asList(files).toArray(new ICachable[files.length]);
			out = new FileOutputStream(cacheFile);
			bufout = new BufferedOutputStream(out, 2048);
			dout = new DataOutputStream(bufout);

			dout.writeInt(VERSION_IDENTIFIER);
			SerializationUtil.serialize(toSave, dout);
			dout.flush();
		} catch (IOException e) {
			PHPCorePlugin.log(e);
		} finally {
			StreamUtils.closeStream(dout);
			StreamUtils.closeStream(out);
			StreamUtils.closeStream(bufout);
		}
		Runtime.getRuntime().gc();
	}

