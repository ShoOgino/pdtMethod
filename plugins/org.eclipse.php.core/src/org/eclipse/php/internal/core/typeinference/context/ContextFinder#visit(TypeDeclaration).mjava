	public boolean visit(TypeDeclaration node) throws Exception {
		if (node instanceof NamespaceDeclaration) {
			if (!((NamespaceDeclaration) node).isGlobal()) {
				FileContext fileContext = (FileContext) contextStack.peek();
				fileContext.setNamespace(node.getName());
			}
		} else {
			ISourceModuleContext parentContext = (ISourceModuleContext) contextStack.peek();
			PHPClassType instanceType;
			if (parentContext instanceof INamespaceContext && ((INamespaceContext)parentContext).getNamespace() != null) {
				instanceType = new PHPClassType(((INamespaceContext)parentContext).getNamespace(), node.getName());
			} else {
				instanceType = new PHPClassType(node.getName());
			}
			
			contextStack.push(new TypeContext(parentContext, instanceType));
			
			boolean visitGeneral = visitGeneral(node);
			if (!visitGeneral) {
				contextStack.pop();
			}
			return visitGeneral;
		}
		
		return visitGeneral(node);
	}

