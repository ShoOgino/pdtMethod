	/**
	 * @param reader
	 * @return the {@link Program} node generated from the given {@link Reader}
	 * @throws Exception
	 */
	public static Program parse(Reader reader, boolean aspTagsAsPhp, String phpVersion) throws Exception {
		final Scanner lexer = getLexer(reader, phpVersion, aspTagsAsPhp);
		final lr_parser phpParser = getParser(phpVersion);
		phpParser.setScanner(lexer);

		final Symbol symbol = phpParser.parse();
		return symbol == null ? null : (Program) symbol.value;
	}

