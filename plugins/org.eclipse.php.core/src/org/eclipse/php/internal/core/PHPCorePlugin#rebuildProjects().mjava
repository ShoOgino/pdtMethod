	/**
	 * Check if model version is changed and rebuild PHP projects if necessary.
	 * 
	 * @see PHPCoreConstants.STRUCTURE_VERSION
	 */
	private void rebuildProjects() {
		IEclipsePreferences preferences = InstanceScope.INSTANCE.getNode(ID);
		String modelVersion = preferences.get(
				PHPCoreConstants.STRUCTURE_VERSION_PREFERENCE, null);
		if (PHPCoreConstants.STRUCTURE_VERSION.equals(modelVersion)) {
			return;
		}

		preferences.put(PHPCoreConstants.STRUCTURE_VERSION_PREFERENCE,
				PHPCoreConstants.STRUCTURE_VERSION);
		try {
			preferences.flush();
		} catch (BackingStoreException e1) {
			Logger.logException(e1);
		}

		IWorkspace workspace = ResourcesPlugin.getWorkspace();
		IProject[] projects = workspace.getRoot().getProjects();
		if (workspace.isAutoBuilding()) {
			try {
				for (IProject project : projects) {
					if (PHPToolkitUtil.isPhpProject(project)) {
						project.build(IncrementalProjectBuilder.CLEAN_BUILD,
								null);
					}
				}
			} catch (CoreException e) {
				Logger.logException(e);
			}
		}
	}

