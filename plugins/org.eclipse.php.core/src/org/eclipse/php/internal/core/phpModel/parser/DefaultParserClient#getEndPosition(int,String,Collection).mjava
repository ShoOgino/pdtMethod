	//This method gets the end position in case there's a syntax error and
	//a class OR a function are not closed properly
	private int getEndPosition(int endPosition, final String currentElementName, Collection repository) {
		for (Iterator iter = repository.iterator(); iter.hasNext();) {
			PHPCodeData element = (PHPCodeData) iter.next();
			if (currentElementName.equals(element.getName())) {
				UserData elementUserData = element.getUserData();
				int elementStartPosition = elementUserData.getStartPosition();
				int phpStartPosition = 0;
				for (Iterator iterator = phpTags.iterator(); iterator.hasNext();) {
					UserData phpUserData = (UserData) iterator.next();
					phpStartPosition = phpUserData.getStartPosition();
					if (phpStartPosition > elementStartPosition) {
						return phpStartPosition;
					}
				}
			}
		}
		return endPosition;
	}

