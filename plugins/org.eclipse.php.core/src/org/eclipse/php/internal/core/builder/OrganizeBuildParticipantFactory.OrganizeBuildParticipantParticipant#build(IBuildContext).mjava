		@Override
		public void build(IBuildContext context) throws CoreException {
			if (Boolean.TRUE.equals(context.get(ParserBuildParticipantFactory.IN_LIBRARY_FOLDER))) {
				// skip syntax check for code inside library folders
				return;
			}

			final ModuleDeclaration moduleDeclaration = (ModuleDeclaration) context
					.get(IBuildContext.ATTR_MODULE_DECLARATION);

			if (moduleDeclaration != null) {
				// Run the validation visitor:
				try {
					UseStatement[] statements = ASTUtils.getUseStatements(moduleDeclaration,
							moduleDeclaration.sourceEnd());
					if (statements.length != 0) {
						ASTNode[] excludeNodes;
						if (moduleDeclaration instanceof PHPModuleDeclaration) {
							// https://bugs.eclipse.org/bugs/show_bug.cgi?id=477908
							// TODO: we could also exclude PHP single-quoted
							// strings and
							// parts of double-quoted strings and heredocs.
							excludeNodes = ((PHPModuleDeclaration) moduleDeclaration).getCommentList()
									.toArray(new ASTNode[0]);
						} else {
							excludeNodes = new ASTNode[0];
						}

						moduleDeclaration.traverse(new ImportValidationVisitor(context, statements, excludeNodes));
					}
				} catch (Exception e) {
					Logger.logException(e);
				}
			}
		}

