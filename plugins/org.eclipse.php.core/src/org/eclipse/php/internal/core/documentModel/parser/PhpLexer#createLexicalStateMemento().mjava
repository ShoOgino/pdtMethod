	public Object createLexicalStateMemento() {
		// buffered token state
		if (bufferedTokens != null && !bufferedTokens.isEmpty()) {
			return bufferedState;
		}

		//System.out.println("lexerStates size:" + lexerStates.size());
		final int key = buildStateKey();
		Object state = lexerStates.get(key);
		if (state == null) {
			state = new BasicLexerState(this);
			if (isHeredocState(getZZLexicalState()))
				state = new HeredocState((BasicLexerState) state, this);
			lexerStates.put(key, state);
		}
		return state;
	}

