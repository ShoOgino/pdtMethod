	/**
	 * Saves a cache of a given IPhpModel.
	 * The only supported model for this class is PHPUserModel.
	 *
	 * @param project An IProject
	 * @param model	A IPhpModel (PHPUserModel)
	 * @param isShared Indicate if the model is shared with other projects.
	 */
	public void save(IProject project, IPhpModel model, boolean isShared) {
		if (!(model instanceof PHPUserModel)) {
			return;
		}
		PHPUserModel userModel = (PHPUserModel) model;
		File cacheFile = null;
		if (isShared) {
			cacheFile = getSharedCacheFile(project, model);
			synchronized (writeLock) {
				if (cacheFile.exists()) {
					// if the cached file is older then a minute, override it.
					if (System.currentTimeMillis() - cacheFile.lastModified() > 60000) {
						innerSaveModel(userModel, cacheFile);
					}
				} else {
					innerSaveModel(userModel, cacheFile);
				}
			}
		} else {
			cacheFile = new File(getCacheDir(project), DATA_MODEL_FILE_NAME);
			innerSaveModel(userModel, cacheFile);
		}
	}

