	protected String getNewRegionText(IStructuredDocumentRegion flatnode, String changes, int requestStart, int lengthToReplace) throws BadLocationException {
		final int start = flatnode.getStart() + getStart();
		final IStructuredDocument parentDocument = flatnode.getParentDocument();
		final StringBuffer buffer = new StringBuffer(parentDocument.get(start, requestStart - start));
		buffer.append(changes);
		buffer.append(parentDocument.get(requestStart + lengthToReplace, start + getLength() - requestStart - lengthToReplace));
		return buffer.toString();
	}

