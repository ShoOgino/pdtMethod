	public void runJob() {
    	WorkspaceJob cleanJob = new WorkspaceJob(CoreMessages.PHPProjectBuildJobWrapper_0) {
			public IStatus runInWorkspace(IProgressMonitor monitor) throws CoreException {
				try {
					project.build(IncrementalProjectBuilder.CLEAN_BUILD, monitor);
//					IWorkbenchWindow[] workbenchWindows = PHPCorePlugin.getDefault().getWorkbench().getWorkbenchWindows();
//					IWorkbenchPage[] workbenchPages = workbenchWindows[0].getPages();
//					IEditorReference[] editorReferences = workbenchPages[0].getEditorReferences();
//					handleEditorReferences(editorReferences);
		        } finally {
		            monitor.done();
		        }
				return Status.OK_STATUS;
			}
			private void handleEditorReferences(IEditorReference[] editorReferences) {
				for (int i = 0; i < editorReferences.length; i++) {
					IEditorReference reference = editorReferences[i];
					IEditorPart editorPart = reference.getEditor(false);
					IEditorInput editorInput = editorPart.getEditorInput();

					if (!(editorInput instanceof FileEditorInput)) {
						return;
					}
					final IFile file = (IFile) ((FileEditorInput) editorInput).getFile();
					IContentDescription contentDescription;
					try {
						contentDescription = file.getContentDescription();
					} catch (CoreException e) {
						Logger.logException(e);
						return;
					}
					if (contentDescription == null) {
						return;
					}
					if (!ContentTypeIdForPHP.ContentTypeID_PHP.equals(contentDescription.getContentType().getId())) {
						return;
					}
//					final ITextEditor textEditor = (ITextEditor) editorPart;
//					final StructuredTextEditor structuredTextEditor = (StructuredTextEditor) textEditor;
//					structuredTextEditor
					
//					structuredTextEditor
//					Display.getDefault().syncExec(new Runnable() {
//						public void run() {
//							structuredTextEditor.update();
//							textEditor.resetHighlightRange();
//							try {
//								textEditor.setHighlightRange(0, file.getContents().toString().length(), false);
//							} catch (CoreException e) {
//								Logger.logException(e);
//							}
//						}
//					});
					
				}
			}
		};
        cleanJob.setRule(ResourcesPlugin.getWorkspace().getRuleFactory().buildRule());
        cleanJob.setUser(false);
        cleanJob.schedule();		
	}

