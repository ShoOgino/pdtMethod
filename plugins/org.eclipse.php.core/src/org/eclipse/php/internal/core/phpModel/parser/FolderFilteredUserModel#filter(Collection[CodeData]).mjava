	private CodeData[] filter(Collection<CodeData> candidates) {
		if (candidates.size() == 0) {
			return ModelSupport.EMPTY_DATA;
		}
		// avoid concurrent modification:
		candidates = new ArrayList<CodeData>(candidates);
		List<CodeData> filtered = new ArrayList<CodeData>(candidates.size());
		for (CodeData candidate : candidates) {
			if (select(candidate)) {
				filtered.add(candidate);
			}
		}
		return filtered.toArray(new CodeData[filtered.size()]);
	}

