	/**
	 * @param project
	 * @param stream
	 * @return a new lexer for the given project with the given stream
	 */
	private AbstractPhpLexer getPhpLexer(Reader stream, LexerState startState) {
		final PHPVersion phpVersion = ProjectOptions.getPhpVersion(project);
		final AbstractPhpLexer lexer = PhpLexerFactory.createLexer(stream,
				phpVersion);
		lexer.initialize(ST_PHP_IN_SCRIPTING);
		lexer.setPatterns(project);

		// set the wanted state
		if (startState != null) {
			startState.restoreState(lexer);
		}
		lexer.setAspTags(ProjectOptions.isSupportingAspTags(project));
		return lexer;
	}

