	public synchronized void insert(PHPFileData fileData) {
		String fileName = fileData.getName();
		PHPFileData oldData = (PHPFileData) phpFileDataDB.getUniqCodeData(fileName);
		boolean oldExists = oldData != null;
		if (oldExists) {
			delete(oldData);
		}

		phpFileDataDB.addCodeData(fileData);

		// add classes
		PHPClassData[] classes = fileData.getClasses();
		for (PHPClassData element : classes) {
			classesDB.addCodeData(element);
		}

		// add functions
		PHPFunctionData[] functions = fileData.getFunctions();
		for (PHPFunctionData element : functions) {
			functionsDB.addCodeData(element);
		}

		PHPConstantData[] constans = fileData.getConstants();
		for (PHPConstantData element : constans) {
			constantsDB.addCodeData(element);
		}

		// add global variables
		PHPVariableData[] globalsVariables = fileData.getVariableTypeManager().getVariables(ModelSupport.EMPTY_CONTEXT);
		if (globalsVariables != null) {
			for (PHPVariableData element : globalsVariables) {
				globalsVariablesDB.addCodeData(element);
			}
		}

		if (oldExists) {
			fireFileDataChanged(fileData);
		} else {
			fireFileDataAdded(fileData);
		}
	}

