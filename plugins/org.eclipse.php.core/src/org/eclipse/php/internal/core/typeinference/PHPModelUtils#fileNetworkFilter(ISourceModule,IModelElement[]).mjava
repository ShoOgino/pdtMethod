	/**
	 * Filters model elements using file network.
	 * @param sourceModule
	 * @param elements
	 * @return
	 */
	public static IModelElement[] fileNetworkFilter(ISourceModule sourceModule, IModelElement[] elements) {
		
		if (elements != null && elements.length > 0) {
			ReferenceTree referenceTree = FileNetworkUtility.buildReferencedFilesTree(sourceModule, null);
			List<IModelElement> filteredElements = new LinkedList<IModelElement>();
			for (IModelElement element : elements) {
				if (LanguageModelInitializer.isLanguageModelElement(element) || referenceTree.find(((ModelElement)element).getSourceModule())) {
					filteredElements.add(element);
				}
			}
			elements = filteredElements.toArray(new IModelElement[filteredElements.size()]);
		}
		return elements;
	}

