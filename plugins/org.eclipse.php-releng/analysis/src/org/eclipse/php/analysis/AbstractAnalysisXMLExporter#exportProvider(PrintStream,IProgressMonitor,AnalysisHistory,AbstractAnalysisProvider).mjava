	/**
	 * Export the specified provider and its child elements to XML.  This method can be over ridden
	 * to provide alternate data for the provider
	 * 
	 * @param monitor	A progress monitor to report status
	 * @param history	The history instance whose data will be exported
	 * @param provider	The provider to export
	 * 
	 * @return A XML string containing the export data
	 */
	protected void exportProvider(PrintStream output, IProgressMonitor monitor, AnalysisHistory history, AbstractAnalysisProvider provider) {
		output.print(XML_HEADER);
		output.print(AnalysisConstants.LINE_SEPARATOR);
		output.print(getHeader(provider));

		if (provider.getOwnedElements() != null) {
			for (Iterator it = provider.getOwnedElements().iterator(); it.hasNext();) {
				DefaultAnalysisCategory child = (DefaultAnalysisCategory) it.next();
				if (history.containsAnalysisElement(child)) {
					exportTopLevelCategory(output, monitor, history, child);
				}
			}
		}

		output.print(getFooter(provider));
	}

