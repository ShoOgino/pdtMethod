	/**
	 * Publish the project files into the server.
	 * 
	 * @param server
	 * @param configuration
	 * @param monitor
	 */
	public static boolean publish(Server server, IProject project, ILaunchConfiguration configuration, IProgressMonitor monitor) throws CoreException {
		String contextRoot = configuration.getAttribute(Server.CONTEXT_ROOT, (String) null);
		IPath to = new Path(server.getDocumentRoot());
		if (contextRoot != null && !contextRoot.equals("")) {
			to = to.append(contextRoot);
		}

		String source = project.getLocation().toOSString();
		String dest = to.toOSString();
		return smartCopyDirectory(source, dest, monitor);
	}

