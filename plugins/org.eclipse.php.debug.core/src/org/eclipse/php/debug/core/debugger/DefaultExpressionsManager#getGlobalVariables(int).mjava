    public Expression[] getGlobalVariables(int depth) {
        String value = getVariableValue(globalVariablePath, depth);
        ExpressionValue variableValue = ExpressionsValueDeserializer.deserializer(null, value);

        Expression[] globalVariables = variableValue.getChildren();
        if (globalVariables == null) {
            globalVariables = EMPTY_VARIABLE_ARRAY;
        }

        // search for globals variable.
        for (int i = 0; i < globalVariables.length; i++) {
            String s = globalVariables[i].getFullName();
            if (s.equals("$GLOBALS")) {

                // remove globals from array
                Expression[] newGlobals = new Expression[globalVariables.length - 1];
                System.arraycopy(globalVariables, 0, newGlobals, 0, i);
                System.arraycopy(globalVariables, i + 1, newGlobals, i, globalVariables.length - i - 1);
                globalVariables = newGlobals;
                break;
            }
        }

        hashResultDepthOne.put("GlOBAS", globalVariables);

        return globalVariables;
    }

