	/* (non-Javadoc)
	 * @see org.eclipse.jface.dialogs.Dialog#okPressed()
	 */
	protected void okPressed() {
		// Save the preferences
		IDELayer layer = IDELayerFactory.getIDELayer();
		Preferences prefs = layer.getPrefs();

		prefs.setValue(XDebugUIAttributeConstants.XDEBUG_PREF_PORT, portTextBox.getText());
		prefs.setValue(XDebugUIAttributeConstants.XDEBUG_PREF_SHOWSUPERGLOBALS, showGlobals.getSelection());
		prefs.setValue(XDebugUIAttributeConstants.XDEBUG_PREF_ARRAYDEPTH, variableDepth.getSelection());
		prefs.setValue(XDebugUIAttributeConstants.XDEBUG_PREF_MULTISESSION, useMultiSession.getSelection());
		prefs.setValue(XDebugUIAttributeConstants.XDEBUG_PREF_USEPROXY, useProxy.getSelection());
		prefs.setValue(XDebugUIAttributeConstants.XDEBUG_PREF_IDEKEY, idekeyTextBox.getText());
		prefs.setValue(XDebugUIAttributeConstants.XDEBUG_PREF_PROXY, proxyTextBox.getText());
		DBGpProxyHandler.instance.configure();
		PHPDebugPlugin.getDefault().savePluginPreferences(); // save
		super.okPressed();
	}

