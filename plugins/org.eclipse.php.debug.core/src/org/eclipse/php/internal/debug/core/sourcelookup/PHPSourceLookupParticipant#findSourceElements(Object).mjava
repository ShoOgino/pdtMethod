	public Object[] findSourceElements(Object object) throws CoreException {
		Object[] sourceElements = EMPTY;
		try {
			sourceElements = super.findSourceElements(object);
		} catch (Throwable e) {
			// Check if the lookup failed because the source is outside the
			// workspace.
		}

		if (sourceElements == EMPTY) {
			// If the lookup returned an empty elements array, check if the
			// source is outside the workspace.
			String fileName = null;
			if (object instanceof PHPStackFrame) {
				fileName = ((PHPStackFrame) object).getSourceName();
			} else if (object instanceof DBGpStackFrame) {
				fileName = ((DBGpStackFrame) object).getQualifiedFile();
			}

			if (fileName != null) {
				HandleFactory fac = new HandleFactory();
				IDLTKSearchScope scope = SearchEngine.createWorkspaceScope(PHPLanguageToolkit.getDefault());
				IPath localPath = EnvironmentPathUtils.getFile(LocalEnvironment.getInstance(), new Path(fileName))
						.getFullPath();
				Openable openable = fac.createOpenable(localPath.toString(), scope);
				if (openable instanceof IStorage) {
					return new Object[] { openable };
				}

				File file = new File(fileName);
				if (file.exists()) {
					return new Object[] { new LocalFile(file) };
				}

				// try a phar
				final PharPath pharPath = PharPath.getPharPath(new Path(fileName));
				if (pharPath != null) {

					try {
						final PharArchiveFile archiveFile = new PharArchiveFile(pharPath.getPharName());
						final IArchiveEntry entry = archiveFile.getArchiveEntry((pharPath.getFolder().length() == 0 ? "" //$NON-NLS-1$
								: pharPath.getFolder() + "/") //$NON-NLS-1$
								+ pharPath.getFile());
						return new Object[] { new ExternalEntryFile(fileName, archiveFile, entry) };
					} catch (Exception e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
				}

				return EMPTY;
			}
		}
		return sourceElements;
	}

