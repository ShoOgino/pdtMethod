	private void parseResponse() {
		type = RESPONSE;
		id = getTopAttribute("transaction_id");
		command = getTopAttribute("command");
		status = getTopAttribute("status");
		reason = getTopAttribute("reason");

		// get the error information
		Node errNode = parent.getFirstChild();
		if (errNode != null && errNode.getNodeName().equals("error")) {
			String errVal = getAttribute(errNode, "code");
			try {
				errorCode = Integer.parseInt(errVal);
			} catch (NumberFormatException nfe) {
				errorCode = ERROR_UNKNOWN_ERROR_CODE;
			}
			Node msgNode = errNode.getFirstChild();
			if (msgNode != null) {
				Node dataNode = msgNode.getFirstChild();
				if (dataNode != null) {
					errorMessage = dataNode.getNodeValue();
				}
			}
		}
	}

