	protected ILaunch fetchLaunch(SessionDescriptor sessionDescriptor) throws CoreException {
		final String query = sessionDescriptor.getStartedNotification().getQuery();
		String additionalOptions = sessionDescriptor.getStartedNotification().getOptions();
		int sessionID = sessionDescriptor.getId();
		// Check for a file content request session.
		String fileContentRequestFile = getFileContentRequestPath(query);
		if (fileContentRequestFile != null) {
			hookFileContentSession(sessionDescriptor.getStartedNotification(), fileContentRequestFile,
					getLineNumber(query));
			return null;
		}
		/*
		 * First, find out if the session ID is not an older one that was sent
		 * because the browser cached a cookie which is no longer valid for us.
		 */
		if (sessionID > 0 && sessionID <= DebugSessionIdGenerator.getLastGenerated()) {
			if (PHPDebugPlugin.DEBUG) {
				Logger.log(Logger.ERROR,
						"Terminating a requested session.\nThe session id received is lower than the last generated."); //$NON-NLS-1$
			}
			return null;
		}
		/*
		 * In this case we can assume that the launch is similar to a web server
		 * debug or profile session.
		 */
		ILaunchConfigurationType lcType = DebugPlugin.getDefault().getLaunchManager()
				.getLaunchConfigurationType(REMOTE_LAUNCH_TYPE_ID);
		DebugUITools.setLaunchPerspective(lcType, LaunchManager.DEBUG_MODE, // $NON-NLS-1$
				"org.eclipse.debug.ui.DebugPerspective"); //$NON-NLS-1$
		ILaunchConfigurationWorkingCopy wc = lcType.newInstance(null, REMOTE_DEBUG_LAUNCH_NAME);
		wc.setAttribute(IPHPDebugConstants.RUN_WITH_DEBUG_INFO, true);
		if (additionalOptions != null
				&& additionalOptions.indexOf(IPHPDebugConstants.DEBUGGING_NO_REMOTE + "=1") > -1) { //$NON-NLS-1$
			wc.setAttribute(IPHPDebugConstants.DEBUGGING_DEBUG_NO_REMOTE, true);
		}
		String originalURL = getOriginalURL(additionalOptions);
		if (originalURL == null) {
			// Use the URI instead
			originalURL = sessionDescriptor.getStartedNotification().getUri();
		}
		wc.setAttribute(IDebugParametersKeys.WEB_SERVER_DEBUGGER, Boolean.toString(true));
		wc.setAttribute(Server.BASE_URL, originalURL);
		// Try to find related server configuration
		Server serverLookup = ServersManager.findByURL(originalURL);
		if (serverLookup != null)
			wc.setAttribute(Server.NAME, serverLookup.getName());
		wc.doSave();
		ILaunch launch = DebugUITools.buildAndLaunch(wc, ILaunchManager.DEBUG_MODE, new NullProgressMonitor());
		/*
		 * In case we got here, we need to update the PHPSessionLaunchMapper
		 * with the new launch and the acquired launch id. This is a case when
		 * we get a launch id from the toolbar or from the Platform.
		 */
		if (sessionID < 0)
			sessionID = DebugSessionIdGenerator.generateSessionID();
		PHPSessionLaunchMapper.put(sessionID, launch);
		if (PHPDebugPlugin.DEBUG)
			System.out.println("Added a remote launch mapping to session with ID: " //$NON-NLS-1$
					+ sessionID);
		return launch;
	}

