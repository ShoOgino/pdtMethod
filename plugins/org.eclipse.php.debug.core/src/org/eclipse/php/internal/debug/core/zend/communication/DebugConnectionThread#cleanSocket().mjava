	/**
	 * Destroys the socket and initialize it to null.
	 */
	protected void cleanSocket() {
		if (!isInitialized) {
			return;
		}
		if (socket != null) {
			try {
				socket.shutdownInput();
			} catch (Exception exc) {
			}

			try {
				socket.shutdownOutput();
			} catch (Exception exc) {
			}
		}
		if (connectionOut != null) {
			try {
				synchronized (connectionOut) {
					connectionOut.close();
				}
			} catch (Exception exc) {
			}
		}

		if (socket != null) {
			try {
				socket.close();
			} catch (Exception exc) {
			}
		}
		if (connectionIn != null) {
			try {
				connectionIn.close();
			} catch (Exception exc) {
			}
		}

		socket = null;
		connectionIn = null;
		if (connectionOut != null) {
			synchronized (connectionOut) {
				connectionOut = null;
			}
		}
	}

